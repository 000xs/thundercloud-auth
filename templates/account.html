<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸŒ©ï¸ Your Storm Kingdom Account</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="emoji-background"></div>
    <nav class="navbar">
        <div class="logo">ğŸŒ©ï¸</div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/logout">Logout</a>
        </div>
    </nav>

    <div class="container">
        <form class="account-form" action="/logout" method="POST">
            <div class="profile-header">
                <div class="profile-picture">
                    <span id="profile-emoji"></span>
                </div>
                <h1 class="username">{{ username }}</h1>
            </div>

            <button type="submit" class="cta-btn logout-btn">Logout</button>
        </form>

        <div class="game-container">
            <h2>Weather Emoji Game</h2>
            <p>Click the emoji that matches the weather description!</p>
            <div id="weather-description"></div>
            <div id="emoji-options"></div>
            <div id="game-result"></div>
        </div>
    </div>
    <script>
      const backgroundEmojis = ["ğŸŒ©ï¸", "ğŸŒ§ï¸", "ğŸŒªï¸", "ğŸŒ¨ï¸", "â˜€ï¸", "â˜ï¸", "ğŸŒ¥ï¸", "â›…", "ğŸŒ¦ï¸"];
      const background = document.querySelector(".emoji-background");
      for (let i = 0; i < 30; i++) {
        const emoji = document.createElement("div");
        emoji.classList.add("emoji");
        emoji.innerText = backgroundEmojis[Math.floor(Math.random() * backgroundEmojis.length)];
        emoji.style.left = Math.random() * 100 + "vw";
        emoji.style.top = Math.random() * 100 + "vh";
        emoji.style.animationDuration = Math.random() * 5 + 5 + "s";
        background.appendChild(emoji);
      }

      const profileEmojis = ["ğŸ˜€", "ğŸ˜", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜…", "ğŸ˜†", "ğŸ˜‰", "ğŸ˜Š", "ğŸ˜‹", "ğŸ˜", "ğŸ¤©", "ğŸ¥³", "ğŸ˜‡", "ğŸ¥°", "ğŸ˜", "ğŸ˜˜", "ğŸ˜—", "ğŸ˜™", "ğŸ˜š", "â˜ºï¸", "ğŸ™‚", "ğŸ¤—", "ğŸ¤”", "ğŸ¤¨", "ğŸ˜", "ğŸ˜‘", "ğŸ˜¶", "ğŸ™„", "ğŸ˜", "ğŸ˜®", "ğŸ¤", "ğŸ˜¯", "ğŸ˜ª", "ğŸ˜«", "ğŸ˜´", "ğŸ˜Œ", "ğŸ˜›", "ğŸ˜œ", "ğŸ˜", "ğŸ¤¤", "ğŸ˜’", "ğŸ˜“", "ğŸ˜”", "ğŸ˜•", "ğŸ™ƒ", "ğŸ¤‘", "ğŸ˜²", "â˜¹ï¸", "ğŸ™", "ğŸ˜–", "ğŸ˜", "ğŸ˜Ÿ", "ğŸ˜¤", "ğŸ˜¢", "ğŸ˜­", "ğŸ˜¦", "ğŸ˜§", "ğŸ˜¨", "ğŸ˜©", "ğŸ¤¯", "ğŸ˜¬", "ğŸ˜®â€ğŸ’¨", "ğŸ˜µ", "ğŸ˜µâ€ğŸ’«", "ğŸ¤¥", "ğŸ¤«", "ğŸ¤­", "ğŸ«¢", "ğŸ«¡", "ğŸ¤“", "ğŸ§", " covert", "ğŸ¥³", "ğŸ˜", "ğŸ¤©", "âœ¨", "ğŸ’¯"];
      const profileEmojiElement = document.getElementById("profile-emoji");
      profileEmojiElement.innerText = profileEmojis[Math.floor(Math.random() * profileEmojis.length)];

      // Weather Emoji Game
      const weatherGame = {
        "Sunny": "â˜€ï¸",
        "Cloudy": "â˜ï¸",
        "Rainy": "ğŸŒ§ï¸",
        "Stormy": "ğŸŒ©ï¸",
        "Snowy": "ğŸŒ¨ï¸",
        "Tornado": "ğŸŒªï¸"
      };

      const weatherDescriptionElement = document.getElementById("weather-description");
      const emojiOptionsElement = document.getElementById("emoji-options");
      const gameResultElement = document.getElementById("game-result");

      let correctAnswer;

      function startGame() {
        gameResultElement.innerText = "";
        const weatherDescriptions = Object.keys(weatherGame);
        const randomDescription = weatherDescriptions[Math.floor(Math.random() * weatherDescriptions.length)];
        correctAnswer = weatherGame[randomDescription];

        weatherDescriptionElement.innerText = randomDescription;

        const options = [correctAnswer];
        while (options.length < 4) {
          const randomEmoji = backgroundEmojis[Math.floor(Math.random() * backgroundEmojis.length)];
          if (!options.includes(randomEmoji)) {
            options.push(randomEmoji);
          }
        }

        options.sort(() => Math.random() - 0.5);

        emojiOptionsElement.innerHTML = "";
        options.forEach(option => {
          const button = document.createElement("button");
          button.innerText = option;
          button.addEventListener("click", () => checkAnswer(option));
          emojiOptionsElement.appendChild(button);
        });
      }

      function checkAnswer(selectedEmoji) {
        if (selectedEmoji === correctAnswer) {
          gameResultElement.innerText = "Correct! ğŸ‰";
        } else {
          gameResultElement.innerText = "Wrong! Try again. ğŸ˜¢";
        }
        setTimeout(startGame, 2000);
      }

      startGame();
    </script>
</body>
</html>
